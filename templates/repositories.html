{% extends 'repositories_basic.html' %}
{% from 'macros/macros_form.html' import form_field %}

{% block postcard %}
{% endblock %}

{% block user_info %}
    <span>欢迎您，{{ username }}</span>
    <div style="width: 20px;height: 20px"></div>
    <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('logout') }}">注销</a>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-9 blog-main">
            {% block blog_content %}
                <h3 class="pb-3 mb-4 font-italic border-bottom">
                    我的 Git仓库列表
                </h3>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                        <th>项目名</th>
{#                        <th>项目远程地址</th>#}
                        {#                            <th>项目本地地址</th>#}
                        {#                            <th>项目添加时间</th>#}
                        <th>状态</th>
                        <th>详情</th>
                        </thead>
                        <tbody>
                        {% for repo in repo_status %}
                            <tr>
                                <td>{{ repo.REPONAME }}</td>
{#                                <td>{{ repo.REPOURL }}</td>#}
                                {#                                <td>{{ repo.REPOLOCALPATH }}</td>#}
                                {#                                <td>{{ repo.CLONETIME }}</td>#}
                                <td>
                                    {% if repo.CLONESTATUS == 0 %}
                                        <button type="button" class="btn  btn-success">
                                            成功 <span class="badge badge-light">1</span>
                                        </button>
                                    {% else %}
                                        <button type="button" class="btn  btn-primary">
                                            处理中 <span class="badge badge-light">1</span>
                                        </button>
                                    {% endif %}

                                </td>
                                <td><a href="{{ url_for('show_repositories',repo_name =repo.REPONAME) }}">详情</a></td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% endblock %}
        </div><!-- /.blog-main -->

        <aside class="col-md-3 blog-sidebar">
            <div class="p-3 mb-3 bg-light rounded">
                <div id="demo" class="carousel slide" data-ride="carousel">
                    <!-- 指示符 -->
                    <ul class="carousel-indicators">
                        <li data-target="#demo" data-slide-to="0" class="active"></li>
                        <li data-target="#demo" data-slide-to="1"></li>
                        <li data-target="#demo" data-slide-to="2"></li>
                    </ul>

                    <!-- 轮播图片 -->
                    <!-- 图片尺寸 223*300 -->
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="{{ url_for('static', filename='images/github.jpg') }}" height="300px"
                                 width="300px">
                            <div class="carousel-caption" style="color:black">
                                <h3>GitHub</h3>
                                <p>一个面向开源及私有软件项目的托管平台</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="{{ url_for('static', filename='images/gitlab.png') }}" height="300px"
                                 width="300px">
                            <div class="carousel-caption">
                                <h3>GitLab</h3>
                                <p>一个用于仓库管理系统的开源项目</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="{{ url_for('static', filename='images/codeCloud.jpg') }}" height="300px"
                                 width="300px">
                            <div class="carousel-caption" style="color:black">
                                <h3>码云</h3>
                                <p>Gitee - 一个云端软件开发协作平台</p>
                            </div>
                        </div>
                    </div>

                    <!-- 左右切换按钮 -->
                    <a class="carousel-control-prev" href="#demo" data-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </a>
                    <a class="carousel-control-next" href="#demo" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </a>
                </div>
            </div>

            <div class="p-3">
                <h4 class="font-italic">相关链接</h4>
                <ol class="list-unstyled">
                    <li><a href="https://github.com/">Github</a></li>
                    <li><a href="https://gitlab.com/">Gitlab</a></li>
                    <li><a href="https://gitee.com">码云</a></li>
                </ol>
            </div>
        </aside><!-- /.blog-sidebar -->
    </div><!-- /.row -->
{% endblock %}